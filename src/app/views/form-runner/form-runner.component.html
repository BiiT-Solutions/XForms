<div *ngIf="form && !preloadForm">
  <div *ngIf="submitting" class="block-wall">
    <div class="bgi-text">
      <div class="logo">
        <biit-icon name="biit_icon" style="display: block; width: 2.5rem;" />
        <biit-icon name="biit_logo" style="display: block; width: 5rem;" />
      </div>
      <div style="gap: 2rem">
        <h1>{{ 'form.please-wait' | transloco }}...</h1>
        <h2>{{ 'form.we-are-submitting' | transloco}}.</h2>
        <biit-progress-bar [type]="biitProgressBarType.INDETERMINATE"></biit-progress-bar>
      </div>
    </div>
  </div>
  <biit-x-form [form]="form"
               [submitted]="submitted"
               (completed)="onCompleted($event)"
               (closed)="submitted = false"
  ></biit-x-form>
</div>
<div *ngIf="!form && !preloadForm" class="empty-form">

  <div class="bgi"></div>
  <div class="bgi-text">
    <div class="logo">
      <biit-icon name="biit_icon" style="display: block; width: 2.5rem;" />
      <biit-icon name="biit_logo" style="display: block; width: 5rem;" />
    </div>
    <div *ngIf="loading" style="gap: 2rem">
      <h1>{{ 'form.please-wait' | transloco }}...</h1>
      <h2>{{ 'form.fetching-data' | transloco }}.</h2>
      <biit-progress-bar [type]="biitProgressBarType.INDETERMINATE"></biit-progress-bar>
    </div>
    <div *ngIf="!loading" style="gap: 2rem">
      <h1>{{ 'form.error-retrieving-data' | transloco }}</h1>
      <h2>{{ 'form.cannot-display-content' | transloco}}.</h2>
      <p>{{ 'form.if-error-persist-contact-support' | transloco}}. </p>
    </div>
  </div>
</div>
<biit-popup *ngIf="preloadForm"
            title="{{ 'form.form-saved' | transloco }}"
>
  <div class="popup-content" >
    <div> {{ 'form.form-saved' | transloco }}</div>
    <div>{{ 'form.form-saved-confirmation' | transloco }}</div>
    <div class="btn-container">
      <button biit-button primary style="display: block" title="{{'form.load' | transloco }}" (click)="onLoadPreForm()">
        {{'form.load' | transloco }}
      </button>
      <button biit-button secondary style="display: block" title="{{'form.start-over' | transloco }}" (click)="onRestart()">
        {{'form.start-over' | transloco }}
      </button>
    </div>
  </div>
</biit-popup>
